openapi: 3.0.0
info:
  title: Post Service
  description: Service to post messages
  version: 0.0.1
servers:
  - url: 'http://localhost:1777'
    description: Local computer
paths:
  /posts:
    post:
      summary: Creates a new post with the given information
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Post'
      responses:
        '201':
          description: new post with autogenerated post id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Post'
        '400':
          description: Invalid request syntax.
        '422':
          description: Incomplete post information. Some required fields missing.
    get:
      summary: Retrieves a list of all posts.
      responses:
        '200':
          description: A list of all posts and their information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Post'

  /posts/{postId}:
    get:
      summary: Retrieves the post with the given post id.
      parameters:
        - name: postId
          in: path
          required: true
          description: Id of the post you would like to retrieve.
          schema:
            type: integer
      responses:
        '200':
          description: Post data.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Post'

    put:
      summary: Updates the entry for the post with the given post id.
      parameters:
        - name: postId
          in: path
          required: true
          description: Id of the game you would like to update.
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Post'
      responses:
        '200':
          description: OK
        '400':
          description: Invalid request syntax.
        '422':
          description: Incomplete post information. Some required fields missing.

    delete:
      summary: Deletes the entry for the post with the given post id.
      parameters:
        - name: postId
          in: path
          required: true
          description: Id of the post you would like to delete.
          schema:
            type: integer
      responses:
        '200':
          description: OK.

  /posts/user/{posterName}:
    get:
      summary: Retrieves the post with the given poster name.
      parameters:
        - name: posterName
          in: path
          required: true
          description: name of the poster you would like to retrieve posts.
          schema:
            type: string
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Post'



components:
  schemas:
    Post:
      properties:
        postId:
          type: integer
        postContent:
          type: string
          maxLength: 255
        postDate:
          type: string
          pattern: 'yyyy-mm-dd'
        posterName:
          type: string
          maxLength: 50
      required:
        - postDate
        - posterName


